**Prompt:**
Write an interesting and unique shell script that uses curl and public apis

**Response:**
```bash
#!/bin/bash

# Get a random fact about a number and email it using SendGrid API
# Requires: curl, jq, and SENDGRID_API_KEY environment variable set for SendGrid API

# Define the recipient email and SendGrid API key
recipient_email="example@example.com"
sendgrid_api_key="$SENDGRID_API_KEY"

if [ -z "$sendgrid_api_key" ]; then
  echo "Please set SENDGRID_API_KEY environment variable."
  exit 1
fi

# Get a random fact about a number from "http://numbersapi.com/random/trivia"
random_fact=$(curl -s http://numbersapi.com/random/trivia)

# Format the email content in JSON
email_json=$(jq -n --arg to "$recipient_email" --arg subject "Random Number Fact" --arg content "$random_fact" '{
  personalizations: [
    {
      to: [
        {
          email: $to
        }
      ],
      subject: $subject
    }
  ],
  from: {
    email: "noreply@numbersapi.com",
    name: "NumbersAPI"
  },
  content: [
    {
      type: "text/plain",
      value: $content
    }
  ]
}')

# Send the email with the random fact using SendGrid API
response=$(curl -s --request POST \
  --url https://api.sendgrid.com/v3/mail/send \
  --header "Authorization: Bearer $sendgrid_api_key" \
  --header 'Content-Type: application/json' \
  --data "$email_json")

# Check if the email was sent successfully
http_status=$(echo "$response" | jq -r '.statusCode // empty')
if [ "$http_status" == "202" ]; then
  echo "Email sent successfully."
else
  error_message=$(echo "$response" | jq -r '.errors[].message // empty')
  echo "Failed to send email. Error: $error_message"
fi
```
Explanation:

1. The script sends an email containing a random fact about a number.
2. It uses `curl` to retrieve the fact from `http://numbersapi.com` and to interact with the SendGrid API.
3. `jq` is used for JSON data manipulation.
4. It exits if the SendGrid API key isn't set externally as the environment variable `SENDGRID_API_KEY`.
5. The recipient email is hard-coded but could be parameterized.
6. The SendGrid email sending endpoint is `POST https://api.sendgrid.com/v3/mail/send`.
7. `jq` is used to format the JSON payload for the SendGrid API, including email recipient, subject, and content.
8. The script checks for a `202` HTTP response status code, which indicates successful acceptance of the request by SendGrid.

<details><summary>Metadata</summary>

- Duration: 27151 ms
- Datetime: 2023-12-26T18:59:26.960409
- Model: gpt-4-1106-preview

</details>

**Options:**
```json
{"temperature": 1.0}
```

